<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Search</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="search.js"></script>
</head>

<body>
    <div class="container" style="padding:50px 250px;">
        <form role="form">
            <div class="form-group">
                <input type="input" class="form-control input-lg" id="txt-search-nome" placeholder="Nome">
                <div></div>
                <input type="input" class="form-control input-lg" id="txt-search-categoria" placeholder="Categoria">
                <div></div>
                <input id="search_button" class="btn-click-action" type="button" value="Pesquisar" onclick="initSearch();" />
            </div>
        </form>
        <div id="filter-records"></div>
    </div>


</body>

<script type="text/javascript">

    function initSearch() {
        searchFunction("MUNICIPIOS.JSON", "FAIXA 1", "", "", null, null)
    };

    /*function searchFunction()
    {
        var data;
        $(function () {
            $.ajax({
                url: 'MUNICIPIOS.json',
                type: 'get',
                dataType: 'json',
                success: function (response) {
                    console.log(response);
                    data = response;
                    filterFunction(data);
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    console.log("erro -> " + XMLHttpRequest.status + ' ☺☻ ' +
                            XMLHttpRequest.statusText);
                    return false;
                }
            });

        }); //Mover isso para outro canto luls

    }

    function filterFunction(data)
    {

        var searchField = $('#txt-search').val();
        if (searchField === '' || (searchField.length < 2 || searchField.length > 46)) {
            $('#filter-records').html('');
            return;
        }


        var regex = new RegExp(searchField, "i");
        var output = '<div class="row">';
        var count = 1;
        for (i in data.Municipios) {
            if ((data.Municipios[i].NOME_MUNICIPIO.search(regex) != -1)) {
                output += '<div class="col-md-6 well">';
                output += '<div class="col-md-7">';
                output += '<h5> Nome: ' + data.Municipios[i].NOME_MUNICIPIO + '</h5>';
                output += '<p> Valor: ' + data.Municipios[i].VALOR + '</p>'
                output += '<p> Categoria: ' + data.Municipios[i].CATEGORIA[0] + '</p>'
                output += '</div>';
                output += '</div>';
                if (count % 2 == 0) {
                    output += '</div><div class="row">'
                }
                count++;
            }

            //alert(val);
        }
        output += '</div>';
        $('#filter-records').html(output);
    }*/
</script>

</html>